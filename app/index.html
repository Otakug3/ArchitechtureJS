<!doctype html>
<html ng-app="greetingsJS">
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="greetings.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.1/angular.min.js"></script>
    <script src="js/app.js"></script>
</head>
<body class="list-group" ng-controller="GreetingsController as controller">
    <header>
        <h1 class="text-center">GreetingsApp</h1>
        <h2 class="text-center">The AngularJS Client</h2>
    </header>
    <div  ng-repeat="greeting in controller.greetings">
        <h3>{{greeting.id}}: {{greeting.content | limitTo:10}}...</h3>
        <section class="tab" ng-controller="TabController as tab">
            <ul class="nav nav-pills">
                <li ng-class="{active: tab.isSet(1)}">
                    <a href ng-click="tab.setTab(1)">Content</a></li>
                <li ng-class="{active: tab.isSet(2)}">
                    <a href ng-click="tab.setTab(2)">Author</a></li>
            </ul>
            <div ng-show="tab.isSet(1)">
                <h4>Content</h4>
                <blockquote>{{greeting.content}}</blockquote>
            </div>
            <div ng-show="tab.isSet(2)">
                <h4>Author</h4>
                <blockquote>{{greeting.user}} on {{greeting.when | date}}</blockquote>
            </div>
        </section>
    </div>
    <div>
        <h3>Add new greeting...</h3>
        <section>
            <form name="greetingForm" ng-submit="greetingForm.$valid && controller.addGreeting()" novalidate>
                <!--  Greeting Live Preview -->
                <h4>Preview your greentig</h4>
                <blockquote>
                    {{controller.newGreeting.content}} -- by {{controller.newGreeting.user}} on {{controller.newGreeting.when | date}}
                </blockquote>

                <!--  Greeting Form -->
                <h4>Add a Greeting</h4>
                <fieldset class="form-group">
                    <textarea ng-model="controller.newGreeting.content" class="form-control" placeholder="Write your greeting..." title="Greeting" required></textarea>
                </fieldset>
                <fieldset class="form-group">
                    <textarea type="email" ng-model="controller.newGreeting.user" class="form-control" placeholder="And your e-mail..." title="Author" required></textarea>
                </fieldset>
                <fieldset class="form-group">
                    <input type="submit" class="btn btn-primary pull-right" value="Submit Greeting"/>
                </fieldset>
            </form>
        </section>
    </div>
</body>
</html>
